# 删除功能使用说明

## 功能概述

现在您可以删除笔记本、章节和页面，更灵活地管理您的笔记内容。

## 删除笔记本

### 如何删除

1. 将鼠标悬停在笔记本名称上
2. 右侧会出现红色的 **×** 按钮
3. 点击 **×** 按钮
4. 确认删除对话框

### 限制条件

- ⚠️ **至少保留一个笔记本** - 不能删除最后一个笔记本
- ⚠️ **删除笔记本会删除其下所有章节和页面**
- ⚠️ **此操作无法撤销**

### 删除后行为

- 如果删除的是当前笔记本，会自动切换到第一个笔记本
- 该笔记本下的所有数据将被永久删除

## 删除章节

### 如何删除

1. 将鼠标悬停在章节卡片上
2. 右上角会出现红色的 **×** 按钮
3. 点击 **×** 按钮
4. 确认删除对话框

### 限制条件

- ⚠️ **至少保留一个章节** - 不能删除最后一个章节
- ⚠️ **删除章节会删除其下所有页面**
- ⚠️ **此操作无法撤销**

### 删除后行为

- 如果删除的是当前章节，会自动切换到第一个章节
- 如果删除的章节在当前章节之前，当前章节索引会自动调整

## 删除页面

### 如何删除

1. 点击页面底部的红色垃圾桶按钮（最左侧）
2. 确认删除对话框

### 限制条件

- ⚠️ **至少保留一页** - 不能删除最后一页
- ⚠️ **此操作无法撤销**

### 删除后行为

- 如果删除的是最后一页，会自动跳转到前一页
- 页码会自动更新

## 安全提示

### 删除前的确认

所有删除操作都会弹出确认对话框，显示：
- 要删除的内容名称
- 删除的影响范围
- 是否继续的选项

### 数据备份建议

在进行大量删除操作前，建议：

1. **导出备份**
   - 点击左侧边栏底部的"导出"按钮
   - 保存 JSON 文件到安全位置

2. **定期备份**
   - 每周导出一次
   - 重要内容立即备份

3. **多版本备份**
   - 保留多个时间点的备份
   - 使用有意义的文件名

## 删除操作示例

### 示例 1：清理旧笔记本

```
场景：有 3 个笔记本，想删除"日常草稿"

步骤：
1. 鼠标悬停在"日常草稿"上
2. 点击右侧的 × 按钮
3. 确认对话框显示：
   "确定要删除笔记本"日常草稿"吗？
    这将删除该笔记本下的所有章节和页面！"
4. 点击"确定"
5. 笔记本被删除
```

### 示例 2：删除空章节

```
场景：某个章节只有一页空白内容，想删除

步骤：
1. 鼠标悬停在该章节卡片上
2. 点击右上角的 × 按钮
3. 确认对话框显示：
   "确定要删除章节"XXX"吗？
    这将删除该章节下的所有页面！"
4. 点击"确定"
5. 章节被删除
```

### 示例 3：删除多余页面

```
场景：某章节有 5 页，想删除第 3 页

步骤：
1. 翻到第 3 页
2. 点击底部红色垃圾桶按钮
3. 确认对话框显示：
   "确定要删除这一页吗？"
4. 点击"确定"
5. 第 3 页被删除，自动显示新的第 3 页（原来的第 4 页）
```

## 常见问题

### Q: 为什么不能删除最后一个笔记本/章节/页面？

A: 为了保证应用始终有内容可以显示，至少需要保留：
- 1 个笔记本
- 1 个章节
- 1 页内容

### Q: 删除后能恢复吗？

A: 不能。删除操作是永久性的，无法撤销。建议删除前先导出备份。

### Q: 删除笔记本会删除什么？

A: 会删除：
- 笔记本本身
- 该笔记本下的所有章节
- 所有章节下的所有页面
- 所有页面上的所有组件（便签、图片、箭头、文字框）

### Q: 如何批量删除？

A: 当前版本不支持批量删除。如果需要清空所有数据，可以：
1. 使用"清空所有数据"功能（需要输入"删除"确认）
2. 或者逐个删除

### Q: 删除按钮为什么有时看不到？

A: 删除按钮只在鼠标悬停时显示，这是为了：
- 避免误操作
- 保持界面简洁
- 只在需要时显示

### Q: 删除操作会影响其他笔记本吗？

A: 不会。删除操作只影响：
- 笔记本删除：只删除该笔记本及其内容
- 章节删除：只删除该章节及其页面
- 页面删除：只删除该页面

## 最佳实践

### 1. 删除前备份

```
重要内容删除前：
1. 导出当前数据
2. 确认备份成功
3. 再进行删除
```

### 2. 分步删除

```
删除大量内容时：
1. 先删除页面
2. 再删除空章节
3. 最后删除空笔记本
```

### 3. 定期整理

```
建议每月整理一次：
1. 删除不需要的页面
2. 合并相似章节
3. 清理空笔记本
```

### 4. 使用归档

```
不确定是否删除时：
1. 创建"归档"笔记本
2. 将内容移动到归档
3. 一段时间后再决定是否删除
```

## 技术细节

### 删除流程

```
用户点击删除按钮
    ↓
检查是否可以删除（数量限制）
    ↓
显示确认对话框
    ↓
用户确认
    ↓
从 localStorage 删除数据
    ↓
更新界面
    ↓
如果需要，切换到其他内容
```

### 数据清理

删除操作会清理：
- localStorage 中的对应键值
- 内存中的数据结构
- 界面上的 DOM 元素

### 性能影响

- 删除操作是即时的
- 不会影响其他笔记本的性能
- 删除后会释放存储空间

## 更新日志

### v1.3.0 (2026-02-05)
- ✅ 添加删除笔记本功能
- ✅ 添加删除章节功能
- ✅ 改进删除页面功能
- ✅ 添加悬停显示删除按钮
- ✅ 添加删除确认对话框
- ✅ 添加最小数量保护
- ✅ 全部界面改为中文

## 相关文档

- `导出导入使用说明.md` - 数据备份和恢复
- `笔记本和章节管理使用说明.md` - 创建和编辑
- `页数管理使用说明.md` - 页面管理
- `功能说明.md` - 完整功能列表
